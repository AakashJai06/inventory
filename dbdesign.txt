Perfect ğŸ‘ â€” that actually simplifies the design and makes it cleaner and more realistic for an API-only system.
Below is the UPDATED EXCEL FORMAT SCHEMA, with NO user table, and no user/role responsibility inside CCMS.
All user/role handling is assumed to be external and passed to CCMS via headers/tokens.
You can copyâ€“paste directly into Excel.
Each table = one sheet.
ğŸ“Š UPDATED EXCEL SCHEMA (API-ONLY CCMS)
ğŸ“„ Sheet 1: templates
Column Name
Data Type
Constraint
Description
template_id
INTEGER
Primary Key
Unique template identifier
template_name
VARCHAR(100)
UNIQUE, NOT NULL
Name of the template
created_at
TIMESTAMP
NOT NULL
Template creation time
ğŸ“„ Sheet 2: template_versions
Column Name
Data Type
Constraint
Description
template_version_id
INTEGER
Primary Key
Unique template version ID
template_id
INTEGER
Foreign Key
References templates(template_id)
version_number
INTEGER
NOT NULL
Template version number
schema_json
JSONB
NOT NULL
Hierarchy rules and allowed section types
created_at
TIMESTAMP
NOT NULL
Version creation timestamp
ğŸ“Œ Defines structure, hierarchy, repeatable section types, mandatory rules.
ğŸ“„ Sheet 3: contents
Column Name
Data Type
Constraint
Description
content_id
INTEGER
Primary Key
Documentation identifier
template_id
INTEGER
Foreign Key
References templates(template_id)
template_version_id
INTEGER
Foreign Key
Template version bound to content
created_at
TIMESTAMP
NOT NULL
Content creation time
ğŸ“„ Sheet 4: content_versions
Column Name
Data Type
Constraint
Description
content_version_id
INTEGER
Primary Key
Unique content version ID
content_id
INTEGER
Foreign Key
References contents(content_id)
version_number
INTEGER
NOT NULL
Version number
status
VARCHAR(20)
NOT NULL
DRAFT / REVIEW / PUBLISHED / DEPRECATED
content_json
JSONB
NOT NULL
Documentation content
created_at
TIMESTAMP
NOT NULL
Version creation time
ğŸ“Œ Only ONE active DRAFT per content enforced logically.
ğŸ“„ Sheet 5: content_sections
Column Name
Data Type
Constraint
Description
section_id
VARCHAR(100)
Primary Key
Unique content-level section ID
content_id
INTEGER
Foreign Key
References contents(content_id)
section_type
VARCHAR(50)
NOT NULL
Section type defined in template
parent_section_id
VARCHAR(100)
Foreign Key (Self)
Parent section identifier
section_order
INTEGER
NOT NULL
Ordering within parent section
created_at
TIMESTAMP
NOT NULL
Section creation time
ğŸ“Œ Supports unlimited repeatable sections within template rules.
ğŸ“„ Sheet 6: asset_mappings
Column Name
Data Type
Constraint
Description
asset_id
VARCHAR(100)
Primary Key
Application context identifier
content_id
INTEGER
Foreign Key
References contents(content_id)
ğŸ“Œ Many AssetIds â†’ One ContentId supported.
ğŸ“„ Sheet 7: session_mappings
Column Name
Data Type
Constraint
Description
session_id
VARCHAR(100)
Primary Key
Session identifier
section_id
VARCHAR(100)
Foreign Key
References content_sections(section_id)
content_id
INTEGER
Foreign Key
References contents(content_id)
ğŸ“Œ SessionId maps to content-level sections for contextual navigation.
ğŸ“„ Sheet 8: audit_logs
Column Name
Data Type
Constraint
Description
audit_id
INTEGER
Primary Key
Audit record identifier
content_id
INTEGER
Foreign Key
References contents(content_id)
action
VARCHAR(50)
NOT NULL
Action performed
performed_at
TIMESTAMP
NOT NULL
Action timestamp
ğŸ“Œ User identity can be captured as metadata if passed by external systems.
âœ… WHAT THIS DESIGN NOW GUARANTEES
Requirement
How itâ€™s handled
API-only system
No user table
External auth
Assumed via headers/tokens
Template version safety
template_versions
Unlimited sections
content_sections
Auto-scroll
session_mappings
Contextual help
asset_mappings
Version history
content_versions
ğŸ§  ONE-LINE EXPLANATION (FOR REVIEW / VIVA)
â€œThe CCMS is API-only and content-focused; authentication and authorization are handled externally, while the CMS manages templates, versions, dynamic sections, and contextual navigation.â€
If you want next, I can:
Provide DDL SQL for this exact schema
Optimize indexes for read-heavy usage
Reduce this to MVP tables only
Prepare diagram explanation in words
Just tell me ğŸ‘